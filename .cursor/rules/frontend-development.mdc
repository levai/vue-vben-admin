---
alwaysApply: true
---

# Web-Antd å‰ç«¯å¼€å‘è§„èŒƒ

> æœ¬æ–‡æ¡£æ˜¯ **`apps/web-antd`** é¡¹ç›®çš„ä¸“ç”¨å‰ç«¯å¼€å‘è§„èŒƒï¼ŒåŸºäº Ant Design Vue æ¡†æ¶ã€‚

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æ ¸å¿ƒå¼€å‘åŸåˆ™](#æ ¸å¿ƒå¼€å‘åŸåˆ™)
3. [ç¼–ç è§„èŒƒ](#ç¼–ç è§„èŒƒ)
4. [ç»„ä»¶ä½¿ç”¨è§„èŒƒ](#ç»„ä»¶ä½¿ç”¨è§„èŒƒ)
5. [çŠ¶æ€ç®¡ç†è§„èŒƒ](#çŠ¶æ€ç®¡ç†è§„èŒƒ)
6. [API è¯·æ±‚è§„èŒƒ](#api-è¯·æ±‚è§„èŒƒ)
7. [è·¯ç”±é…ç½®è§„èŒƒ](#è·¯ç”±é…ç½®è§„èŒƒ)
8. [æ ·å¼è§„èŒƒ](#æ ·å¼è§„èŒƒ)
9. [æ€§èƒ½ä¼˜åŒ–è§„èŒƒ](#æ€§èƒ½ä¼˜åŒ–è§„èŒƒ)
10. [å›½é™…åŒ–è§„èŒƒ](#å›½é™…åŒ–è§„èŒƒ)
11. [æƒé™æ§åˆ¶è§„èŒƒ](#æƒé™æ§åˆ¶è§„èŒƒ)
12. [é¡¹ç›®ç»“æ„è§„èŒƒ](#é¡¹ç›®ç»“æ„è§„èŒƒ)
13. [Git æäº¤è§„èŒƒ](#git-æäº¤è§„èŒƒ)
14. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## é¡¹ç›®æ¦‚è¿°

- **é¡¹ç›®åç§°**: `@vben/web-antd` (apps/web-antd)
- **é¡¹ç›®ç±»å‹**: Vue Vben Admin 5.x - Ant Design Vue ç‰ˆæœ¬
- **æ¶æ„**: Monorepo (pnpm workspace + Turbo)
- **æ ¸å¿ƒæŠ€æœ¯æ ˆ**:
  - Vue 3.5+
  - Vite 6+
  - TypeScript 5+
  - Pinia (çŠ¶æ€ç®¡ç†)
  - Vue Router (è·¯ç”±)
  - **Ant Design Vue** (UI æ¡†æ¶)
- **æ ·å¼æ–¹æ¡ˆ**: TailwindCSS + PostCSS
- **åŒ…ç®¡ç†**: pnpm 10+ (å¿…é¡»ä½¿ç”¨ pnpm)
- **è·¯å¾„åˆ«å**: `#/*` æŒ‡å‘ `./src/*`
- **å®˜æ–¹æ–‡æ¡£**: é‡åˆ°é—®é¢˜æˆ–éœ€è¦äº†è§£è¯¦ç»†åŠŸèƒ½æ—¶ï¼Œå¯å‚è€ƒ `docs/src/guide/` ç›®å½•ä¸‹çš„å®˜æ–¹æ–‡æ¡£

### é¡¹ç›®ç‰¹ç‚¹

- âœ… ä½¿ç”¨ **Ant Design Vue** ä½œä¸º UI ç»„ä»¶åº“
- âœ… ä½¿ç”¨ **Vben ç»„ä»¶ç³»ç»Ÿ** ä½œä¸ºç»Ÿä¸€ç»„ä»¶æŠ½è±¡å±‚
- âœ… æ”¯æŒ Ant Design Vue çš„ `v-model:value` ç»‘å®šæ–¹å¼
- âœ… ç»„ä»¶é€‚é…å™¨ä½äº `src/adapter/component.ts`
- âœ… è¡¨å•é€‚é…å™¨ä½äº `src/adapter/form.ts`ï¼Œé…ç½®äº† Ant Design Vue ç‰¹å®šçš„æ¨¡å‹å±æ€§æ˜ å°„

---

## æ ¸å¿ƒå¼€å‘åŸåˆ™

### 1. ä»£ç è´¨é‡æ ‡å‡†

- **ç±»å‹å®‰å…¨ä¼˜å…ˆ**: æ‰€æœ‰ä»£ç å¿…é¡»æœ‰å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œç¦æ­¢ä½¿ç”¨ `any`
- **ç»„åˆå¼ API**: ç»Ÿä¸€ä½¿ç”¨ Vue 3 Composition APIï¼Œç¦æ­¢ä½¿ç”¨ Options API
- **ä»£ç å®Œæ•´æ€§**: ä»£ç å¿…é¡»å®Œæ•´å¯è¿è¡Œï¼Œç¦æ­¢ä½¿ç”¨ TODOã€å ä½ç¬¦æˆ–çœç•¥ä»£ç 
- **å¯¼å…¥è§„èŒƒ**: ç¡®ä¿æ‰€æœ‰å¯¼å…¥è·¯å¾„æ­£ç¡®ï¼Œä½¿ç”¨é¡¹ç›®é…ç½®çš„è·¯å¾„åˆ«å

### 2. ç¼–ç è§„èŒƒ

#### TypeScript è§„èŒƒ
```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨æ˜ç¡®çš„ç±»å‹å®šä¹‰
interface UserInfo {
  id: string;
  username: string;
  roles: string[];
}

const fetchUser = async (id: string): Promise<UserInfo> => {
  // ...
}

// âŒ é”™è¯¯ï¼šä½¿ç”¨ any æˆ–ç¼ºå°‘ç±»å‹
const fetchUser = async (id) => {
  // ...
}
```

#### Vue ç»„ä»¶è§„èŒƒ
```vue
<script setup lang="ts">
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ Composition API + TypeScript
import { ref, computed } from 'vue';

interface Props {
  title: string;
  count?: number;
}

const props = withDefaults(defineProps<Props>(), {
  count: 0,
});

const emit = defineEmits<{
  update: [value: number];
}>();

const localCount = ref(props.count);
</script>

<template>
  <div>{{ title }}</div>
</template>
```

#### å‘½åè§„èŒƒ
- **ç»„ä»¶æ–‡ä»¶**: PascalCase (ä¾‹: `UserProfile.vue`, `DataTable.vue`)
- **å·¥å…·æ–‡ä»¶**: camelCase (ä¾‹: `formatUtils.ts`, `dateHelper.ts`)
- **å¸¸é‡æ–‡ä»¶**: UPPER_CASE (ä¾‹: `API_BASE_URL`, `MAX_RETRY_COUNT`)
- **ç±»å‹/æ¥å£**: PascalCase (ä¾‹: `UserInfo`, `ApiResponse`)
- **å˜é‡/å‡½æ•°**: camelCase (ä¾‹: `userData`, `fetchUserList`)

### 3. è·¯å¾„åˆ«åè§„èŒƒ

```typescript
// åº”ç”¨çº§åˆ«è·¯å¾„åˆ«å
import { useUserStore } from '@/store/user';
import UserList from '@/views/user/UserList.vue';

// Workspace åŒ…è·¯å¾„åˆ«å
import { usePreferences } from '@vben/preferences';
import { requestClient } from '@vben/request';
import { VbenButton } from '@vben/common-ui';
```

---

## ç»„ä»¶ä½¿ç”¨ä¼˜å…ˆçº§

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¯·éµå¾ªä»¥ä¸‹ç»„ä»¶é€‰æ‹©ä¼˜å…ˆçº§ï¼š

**1. Vben è‡ªå®šä¹‰ç»„ä»¶ï¼ˆæœ€ä¼˜å…ˆï¼‰** â†’ **2. Ant Design Vue ç»„ä»¶ï¼ˆæ¬¡é€‰ï¼‰** â†’ **3. åŸç”Ÿ HTMLï¼ˆæœ€åï¼‰**

### ä¸ºä»€ä¹ˆä¼˜å…ˆä½¿ç”¨ Vben ç»„ä»¶ï¼Ÿ

- âœ… ç»Ÿä¸€çš„ API è®¾è®¡ï¼Œè·¨ UI æ¡†æ¶å…¼å®¹
- âœ… å†…ç½®è¡¨å•éªŒè¯ã€çŠ¶æ€ç®¡ç†
- âœ… æ›´å¥½çš„ TypeScript æ”¯æŒ
- âœ… ç¬¦åˆé¡¹ç›®æ¶æ„è®¾è®¡

---

## Vben è‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨è§„èŒƒ

æ¡†æ¶æä¾›äº†ä¸€å¥—åŸºäº TailwindCSS çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¯é€‚é…ä¸åŒ UI æ¡†æ¶ã€‚è¿™äº›ç»„ä»¶æ˜¯**é¦–é€‰**ï¼Œå…·æœ‰æ›´å¥½çš„ä¸€è‡´æ€§å’Œæ‰©å±•æ€§ã€‚

### 1. Vben Form è¡¨å•ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰

ä½¿ç”¨ `useVbenForm` åˆ›å»ºè¡¨å•ï¼Œåº•å±‚åŸºäº [vee-validate](https://vee-validate.logaretm.com/v4/)ï¼Œæ”¯æŒå¼ºå¤§çš„è¡¨å•éªŒè¯ã€‚

```vue
<script setup lang="ts">
import { useVbenForm } from '#/adapter/form';

// å®šä¹‰è¡¨å• Schema
const [Form, formApi] = useVbenForm({
  // è¡¨å•é…ç½®
  commonConfig: {
    labelWidth: 100,
  },
  // è¡¨å•é¡¹é…ç½®
  schema: [
    {
      component: 'Input',
      fieldName: 'username',
      label: 'ç”¨æˆ·å',
      rules: 'required',
    },
    {
      component: 'InputPassword',
      fieldName: 'password',
      label: 'å¯†ç ',
      rules: 'required',
    },
  ],
  // æäº¤å¤„ç†
  handleSubmit: async (values) => {
    console.log('è¡¨å•å€¼:', values);
    await loginApi(values);
  },
});
</script>

<template>
  <Form />
</template>
```

#### è¡¨å•æ ¡éªŒè§„åˆ™

```typescript
import { z } from '#/adapter/form';

// é¢„å®šä¹‰è§„åˆ™
{
  rules: 'required', // å¿…å¡«
}

{
  rules: 'selectRequired', // ä¸‹æ‹‰å¿…é€‰
}

// Zod å¤æ‚æ ¡éªŒ
{
  rules: z.string().email().min(5, { message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®' }),
}

{
  rules: z.string().refine((value) => value.length >= 6, {
    message: 'å¯†ç é•¿åº¦ä¸èƒ½å°‘äº 6 ä½',
  }),
}
```

#### è¡¨å•è”åŠ¨

```typescript
{
  fieldName: 'city',
  component: 'Select',
  label: 'åŸå¸‚',
  dependencies: {
    // è§¦å‘å­—æ®µ
    triggerFields: ['province'],
    // åŠ¨æ€æ˜¾ç¤º
    show: (values) => !!values.province,
    // åŠ¨æ€ç¦ç”¨
    disabled: (values) => !values.province,
    // åŠ¨æ€ç»„ä»¶å‚æ•°
    componentProps: (values, formApi) => {
      return {
        options: getCityOptions(values.province),
      };
    },
  },
}
```

#### FormApi å¸¸ç”¨æ–¹æ³•

```typescript
// æäº¤è¡¨å•
await formApi.submitForm();

// è®¾ç½®è¡¨å•å€¼
await formApi.setValues({ username: 'admin' });

// è·å–è¡¨å•å€¼
const values = await formApi.getValues();

// é‡ç½®è¡¨å•
await formApi.resetForm();

// æ ¡éªŒè¡¨å•
await formApi.validate();

// æ›´æ–° Schema
formApi.updateSchema([...newSchema]);
```

### 2. Vben Modal æ¨¡æ€æ¡†ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰

ä½¿ç”¨ `useVbenModal` åˆ›å»ºæ¨¡æ€æ¡†ï¼Œæ”¯æŒæ‹–æ‹½ã€å…¨å±ã€è‡ªåŠ¨é«˜åº¦ç­‰åŠŸèƒ½ã€‚

```vue
<script setup lang="ts">
import { useVbenModal } from '@vben/common-ui';

const [Modal, modalApi] = useVbenModal({
  title: 'ç¼–è¾‘ç”¨æˆ·',
  // å¼€å¯æ‹–æ‹½
  draggable: true,
  // ç¡®è®¤å›è°ƒ
  onConfirm: async () => {
    const data = modalApi.getData();
    await saveUser(data);
  },
});

const handleOpen = () => {
  modalApi.setData({ id: 1, name: 'John' });
  modalApi.open();
};
</script>

<template>
  <a-button @click="handleOpen">æ‰“å¼€å¼¹çª—</a-button>

  <Modal>
    <div>å¼¹çª—å†…å®¹</div>
  </Modal>
</template>
```

#### ç»„ä»¶æŠ½ç¦»æ¨¡å¼

```vue
<script setup lang="ts">
import { useVbenModal } from '@vben/common-ui';
import UserForm from './UserForm.vue';

// é€šè¿‡ connectedComponent è¿æ¥å†…éƒ¨ç»„ä»¶
const [Modal, modalApi] = useVbenModal({
  title: 'ç¼–è¾‘ç”¨æˆ·',
  connectedComponent: UserForm,
  onOpenChange: (isOpen) => {
    if (isOpen) {
      // æ‰“å¼€æ—¶è®¾ç½®æ•°æ®
      modalApi.setData({ id: 1, name: 'John' });
    }
  },
});
</script>

<template>
  <Modal />
</template>
```

#### ModalApi å¸¸ç”¨æ–¹æ³•

```typescript
// æ‰“å¼€å¼¹çª—
modalApi.open();

// å…³é—­å¼¹çª—
modalApi.close();

// è®¾ç½®å…±äº«æ•°æ®
modalApi.setData({ id: 1, name: 'John' });

// è·å–å…±äº«æ•°æ®
const data = modalApi.getData();

// åŠ¨æ€æ›´æ–°çŠ¶æ€
modalApi.setState({ title: 'æ–°æ ‡é¢˜', loading: true });

// é”å®šå¼¹çª—ï¼ˆæäº¤ä¸­çŠ¶æ€ï¼‰
modalApi.lock(true);
modalApi.unlock();
```

### 3. Vben Drawer æŠ½å±‰ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰

ä½¿ç”¨ `useVbenDrawer` åˆ›å»ºæŠ½å±‰ï¼ŒAPI ä¸ Modal ç±»ä¼¼ã€‚

```vue
<script setup lang="ts">
import { useVbenDrawer } from '@vben/common-ui';

const [Drawer, drawerApi] = useVbenDrawer({
  title: 'ç”¨æˆ·è¯¦æƒ…',
  // æŠ½å±‰ä½ç½®
  placement: 'right',
  // å®½åº¦
  class: 'w-[600px]',
  onConfirm: async () => {
    await saveData();
  },
});
</script>

<template>
  <Drawer>
    <div>æŠ½å±‰å†…å®¹</div>
  </Drawer>
</template>
```

### 4. Vben Vxe Table è¡¨æ ¼ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰

ä½¿ç”¨ `useVbenVxeGrid` åˆ›å»ºè¡¨æ ¼ï¼ŒåŸºäº [vxe-table](https://vxetable.cn/)ï¼Œæ”¯æŒè™šæ‹Ÿæ»šåŠ¨ã€æ ‘å½¢è¡¨æ ¼ã€å•å…ƒæ ¼ç¼–è¾‘ç­‰ã€‚

```vue
<script setup lang="ts">
import { useVbenVxeGrid } from '#/adapter/vxe-table';

const [Grid, gridApi] = useVbenVxeGrid({
  // è¡¨æ ¼é…ç½®
  gridOptions: {
    columns: [
      { field: 'id', title: 'ID', width: 80 },
      { field: 'username', title: 'ç”¨æˆ·å' },
      { field: 'email', title: 'é‚®ç®±' },
      {
        title: 'æ“ä½œ',
        width: 200,
        slots: { default: 'action' },
      },
    ],
    // ä»£ç†é…ç½®
    proxyConfig: {
      ajax: {
        query: async ({ page }) => {
          const response = await getUserList({
            page: page.currentPage,
            pageSize: page.pageSize,
          });
          return {
            items: response.data,
            total: response.total,
          };
        },
      },
    },
  },
  // æœç´¢è¡¨å•é…ç½®
  formOptions: {
    schema: [
      {
        fieldName: 'username',
        label: 'ç”¨æˆ·å',
        component: 'Input',
      },
      {
        fieldName: 'status',
        label: 'çŠ¶æ€',
        component: 'Select',
        componentProps: {
          options: [
            { label: 'å¯ç”¨', value: 1 },
            { label: 'ç¦ç”¨', value: 0 },
          ],
        },
      },
    ],
  },
});

const handleDelete = async (row: any) => {
  await deleteUser(row.id);
  gridApi.reload();
};
</script>

<template>
  <Grid>
    <template #action="{ row }">
      <a-button type="link" size="small">ç¼–è¾‘</a-button>
      <a-button type="link" danger size="small" @click="handleDelete(row)">
        åˆ é™¤
      </a-button>
    </template>
  </Grid>
</template>
```

#### GridApi å¸¸ç”¨æ–¹æ³•

```typescript
// é‡è½½è¡¨æ ¼ï¼ˆåˆå§‹åŒ–ï¼‰
gridApi.reload();

// æŸ¥è¯¢è¡¨æ ¼ï¼ˆä¿ç•™åˆ†é¡µï¼‰
gridApi.query();

// è®¾ç½® loading
gridApi.setLoading(true);

// è®¿é—® vxe-table å®ä¾‹
gridApi.grid.getTableData();

// è®¿é—®è¡¨å• API
gridApi.formApi.setValues({ username: 'admin' });

// åˆ‡æ¢æœç´¢è¡¨å•æ˜¾ç¤º
gridApi.toggleSearchForm();
```

### 5. Page é¡µé¢å¸ƒå±€ç»„ä»¶

ä½¿ç”¨ `Page` ç»„ä»¶ä½œä¸ºé¡µé¢æ ¹å®¹å™¨ï¼Œæä¾›ç»Ÿä¸€çš„é¡µé¢å¸ƒå±€ã€‚

```vue
<script setup lang="ts">
import { Page } from '@vben/common-ui';
</script>

<template>
  <Page
    title="ç”¨æˆ·ç®¡ç†"
    description="ç®¡ç†ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯"
    auto-content-height
  >
    <template #extra>
      <a-button type="primary">æ–°å¢ç”¨æˆ·</a-button>
    </template>

    <!-- é¡µé¢å†…å®¹ -->
    <div>é¡µé¢å†…å®¹åŒºåŸŸ</div>

    <template #footer>
      <div>é¡µé¢åº•éƒ¨</div>
    </template>
  </Page>
</template>
```

### 6. å…¶ä»– Vben ç»„ä»¶

```vue
<script setup lang="ts">
import {
  VbenAlert,           // è­¦å‘Šæç¤º
  VbenEllipsisText,    // æ–‡æœ¬çœç•¥
  VbenCountToAnimator, // æ•°å­—åŠ¨ç”»
} from '@vben/common-ui';
</script>

<template>
  <!-- è­¦å‘Šæç¤º -->
  <VbenAlert type="info" title="æç¤ºä¿¡æ¯" />

  <!-- æ–‡æœ¬çœç•¥ -->
  <VbenEllipsisText :text="longText" :max-width="200" />

  <!-- æ•°å­—åŠ¨ç”» -->
  <VbenCountToAnimator :end-value="1000" :duration="2000" />
</template>
```

### Vben ç»„ä»¶é€‚é…å™¨

**web-antd é¡¹ç›®**çš„ç»„ä»¶é€‚é…å™¨ä½äº `src/adapter/component.ts`ï¼Œå°† Ant Design Vue ç»„ä»¶æ³¨å†Œåˆ° Vben ç»„ä»¶ç³»ç»Ÿï¼š

```typescript
import { globalShareState } from '@vben/common-ui';
import { Input, Select, Button } from 'ant-design-vue';

// æ³¨å†Œç»„ä»¶ï¼ˆå·²åœ¨ adapter/component.ts ä¸­å®Œæˆï¼‰
globalShareState.setComponents({
  Input,
  Select,
  Button,
  // ... æ›´å¤š Ant Design Vue ç»„ä»¶
});
```

**è¡¨å•é€‚é…å™¨é…ç½®**ï¼ˆ`src/adapter/form.ts`ï¼‰ï¼š

```typescript
// Ant Design Vue ç»„ä»¶é»˜è®¤ä½¿ç”¨ v-model:value
setupVbenForm<ComponentType>({
  config: {
    baseModelPropName: 'value', // Ant Design Vue é»˜è®¤æ¨¡å‹å±æ€§
    modelPropNameMap: {
      Checkbox: 'checked',
      Radio: 'checked',
      Switch: 'checked',
      Upload: 'fileList',
    },
  },
});
```

**é‡è¦æç¤º**ï¼š
- Ant Design Vue ç»„ä»¶é»˜è®¤ä½¿ç”¨ `v-model:value` è¿›è¡ŒåŒå‘ç»‘å®š
- ç‰¹æ®Šç»„ä»¶ä½¿ç”¨ä¸åŒçš„æ¨¡å‹å±æ€§ï¼ˆå¦‚ Checkbox ä½¿ç”¨ `checked`ï¼‰
- è¿™äº›é…ç½®å·²åœ¨ `src/adapter/form.ts` ä¸­å®Œæˆï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

---

## Ant Design Vue ä½¿ç”¨è§„èŒƒ

### 1. ç»„ä»¶å¯¼å…¥æ–¹å¼

```vue
<script setup lang="ts">
// âœ… æŒ‰éœ€å¯¼å…¥ Ant Design Vue ç»„ä»¶
import { Button, Form, Input, message, Modal } from 'ant-design-vue';
import type { FormInstance, Rule } from 'ant-design-vue/es/form';
</script>

<template>
  <a-button type="primary">æŒ‰é’®</a-button>
  <a-form :model="form" :rules="rules">
    <a-form-item label="ç”¨æˆ·å" name="username">
      <a-input v-model:value="form.username" />
    </a-form-item>
  </a-form>
</template>
```

### 2. è¡¨å•éªŒè¯è§„èŒƒ

```vue
<script setup lang="ts">
import { ref, reactive } from 'vue';
import { Button, Form, Input, InputPassword } from 'ant-design-vue';
import type { FormInstance, Rule } from 'ant-design-vue/es/form';

interface LoginForm {
  username: string;
  password: string;
  remember: boolean;
}

const formRef = ref<FormInstance>();
const form = reactive<LoginForm>({
  username: '',
  password: '',
  remember: false,
});

const rules: Record<string, Rule[]> = {
  username: [
    { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å', trigger: 'blur' },
    { min: 3, max: 20, message: 'é•¿åº¦åœ¨ 3 åˆ° 20 ä¸ªå­—ç¬¦', trigger: 'blur' },
  ],
  password: [
    { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur' },
    { min: 6, message: 'å¯†ç é•¿åº¦ä¸èƒ½å°‘äº 6 ä½', trigger: 'blur' },
  ],
};

const handleSubmit = async () => {
  if (!formRef.value) return;
  try {
    await formRef.value.validate();
    // æäº¤è¡¨å•
  } catch (error) {
    console.error('è¡¨å•éªŒè¯å¤±è´¥:', error);
  }
};
</script>

<template>
  <a-form
    ref="formRef"
    :model="form"
    :rules="rules"
    :label-col="{ span: 6 }"
    :wrapper-col="{ span: 18 }"
  >
    <a-form-item label="ç”¨æˆ·å" name="username">
      <a-input
        v-model:value="form.username"
        placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
      />
    </a-form-item>
    <a-form-item label="å¯†ç " name="password">
      <a-input-password
        v-model:value="form.password"
        placeholder="è¯·è¾“å…¥å¯†ç "
      />
    </a-form-item>
    <a-form-item :wrapper-col="{ offset: 6, span: 18 }">
      <a-button type="primary" @click="handleSubmit">ç™»å½•</a-button>
    </a-form-item>
  </a-form>
</template>
```

### 3. è¡¨æ ¼ä½¿ç”¨è§„èŒƒ

**æ³¨æ„**ï¼šé¡¹ç›®ä¼˜å…ˆä½¿ç”¨ `useVbenVxeGrid` åˆ›å»ºè¡¨æ ¼ï¼Œè¯¦è§ [Vben Vxe Table è¡¨æ ¼](#4-vben-vxe-table-è¡¨æ ¼ä¼˜å…ˆä½¿ç”¨) éƒ¨åˆ†ã€‚

å¦‚æœç›´æ¥ä½¿ç”¨ Ant Design Vue è¡¨æ ¼ï¼š

```vue
<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { Button, Table, Tag, Pagination } from 'ant-design-vue';
import type { ColumnsType } from 'ant-design-vue/es/table';

interface User {
  id: string;
  username: string;
  email: string;
  status: number;
  createTime: string;
}

const loading = ref(false);
const tableData = ref<User[]>([]);
const total = ref(0);
const currentPage = ref(1);
const pageSize = ref(10);

const columns: ColumnsType<User> = [
  { title: 'ID', dataIndex: 'id', width: 80 },
  { title: 'ç”¨æˆ·å', dataIndex: 'username' },
  { title: 'é‚®ç®±', dataIndex: 'email' },
  {
    title: 'çŠ¶æ€',
    dataIndex: 'status',
    width: 100,
    customRender: ({ record }) => {
      return (
        <Tag color={record.status === 1 ? 'success' : 'error'}>
          {record.status === 1 ? 'å¯ç”¨' : 'ç¦ç”¨'}
        </Tag>
      );
    },
  },
  {
    title: 'æ“ä½œ',
    width: 200,
    fixed: 'right',
    customRender: ({ record }) => {
      return (
        <>
          <Button type="link" size="small">ç¼–è¾‘</Button>
          <Button type="link" danger size="small">åˆ é™¤</Button>
        </>
      );
    },
  },
];

const fetchData = async () => {
  loading.value = true;
  try {
    // API è°ƒç”¨
    const response = await getUserList({
      page: currentPage.value,
      pageSize: pageSize.value,
    });
    tableData.value = response.data;
    total.value = response.total;
  } finally {
    loading.value = false;
  }
};

const handleTableChange = (page: number, size: number) => {
  currentPage.value = page;
  pageSize.value = size;
  fetchData();
};

onMounted(() => {
  fetchData();
});
</script>

<template>
  <div class="p-4">
    <a-table
      :loading="loading"
      :columns="columns"
      :data-source="tableData"
      :pagination="false"
      bordered
      class="w-full"
    />

    <div class="mt-4 flex justify-end">
      <a-pagination
        v-model:current="currentPage"
        v-model:page-size="pageSize"
        :total="total"
        :page-size-options="['10', '20', '50', '100']"
        show-size-changer
        show-total
        @change="handleTableChange"
      />
    </div>
  </div>
</template>
```

### 4. æ¶ˆæ¯æç¤ºè§„èŒƒ

```typescript
import { message, Modal, notification } from 'ant-design-vue';

// âœ… æˆåŠŸæç¤º
message.success('æ“ä½œæˆåŠŸ');

// âœ… é”™è¯¯æç¤º
message.error('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');

// âœ… è­¦å‘Šæç¤º
message.warning('è¯¥æ“ä½œä¸å¯é€†ï¼Œè¯·è°¨æ…æ“ä½œ');

// âœ… åŠ è½½æç¤ºï¼ˆå¸¦ keyï¼Œå¯æ‰‹åŠ¨å…³é—­ï¼‰
const hideLoading = message.loading({
  content: 'æ­£åœ¨åˆ é™¤...',
  duration: 0,
  key: 'delete_loading',
});
// å®Œæˆåå…³é—­
hideLoading();
message.success({ content: 'åˆ é™¤æˆåŠŸ', key: 'delete_loading' });

// âœ… ç¡®è®¤å¯¹è¯æ¡†
const handleDelete = async (id: string) => {
  Modal.confirm({
    title: 'æç¤º',
    content: 'ç¡®å®šè¦åˆ é™¤è¯¥é¡¹å—ï¼Ÿ',
    okText: 'ç¡®å®š',
    cancelText: 'å–æ¶ˆ',
    onOk: async () => {
      try {
        await deleteUser(id);
        message.success('åˆ é™¤æˆåŠŸ');
        fetchData();
      } catch (error) {
        message.error('åˆ é™¤å¤±è´¥');
      }
    },
  });
};

// âœ… é€šçŸ¥
notification.info({
  message: 'ç³»ç»Ÿé€šçŸ¥',
  description: 'æ‚¨æœ‰æ–°çš„æ¶ˆæ¯',
  duration: 3,
});
```

### 5. å¯¹è¯æ¡†ä½¿ç”¨è§„èŒƒ

**æ³¨æ„**ï¼šé¡¹ç›®ä¼˜å…ˆä½¿ç”¨ `useVbenModal` åˆ›å»ºæ¨¡æ€æ¡†ï¼Œè¯¦è§ [Vben Modal æ¨¡æ€æ¡†](#2-vben-modal-æ¨¡æ€æ¡†ä¼˜å…ˆä½¿ç”¨) éƒ¨åˆ†ã€‚

å¦‚æœç›´æ¥ä½¿ç”¨ Ant Design Vue Modalï¼š

```vue
<script setup lang="ts">
import { ref, reactive } from 'vue';
import { Button, Form, Input, Modal } from 'ant-design-vue';
import type { FormInstance } from 'ant-design-vue/es/form';

const modalVisible = ref(false);
const formRef = ref<FormInstance>();
const form = reactive({
  name: '',
  email: '',
});

const handleOpen = () => {
  modalVisible.value = true;
};

const handleClose = () => {
  formRef.value?.resetFields();
  modalVisible.value = false;
};

const handleSubmit = async () => {
  if (!formRef.value) return;

  try {
    await formRef.value.validate();
    // æäº¤é€»è¾‘
    await saveData(form);
    message.success('ä¿å­˜æˆåŠŸ');
    handleClose();
  } catch (error) {
    console.error('è¡¨å•éªŒè¯å¤±è´¥:', error);
  }
};
</script>

<template>
  <a-button type="primary" @click="handleOpen">æ‰“å¼€å¯¹è¯æ¡†</a-button>

  <a-modal
    v-model:open="modalVisible"
    title="ç¼–è¾‘ç”¨æˆ·"
    width="600px"
    :mask-closable="false"
    @cancel="handleClose"
  >
    <a-form
      ref="formRef"
      :model="form"
      :label-col="{ span: 6 }"
      :wrapper-col="{ span: 18 }"
    >
      <a-form-item label="å§“å" name="name">
        <a-input v-model:value="form.name" />
      </a-form-item>
      <a-form-item label="é‚®ç®±" name="email">
        <a-input v-model:value="form.email" />
      </a-form-item>
    </a-form>

    <template #footer>
      <a-button @click="handleClose">å–æ¶ˆ</a-button>
      <a-button type="primary" @click="handleSubmit">ç¡®å®š</a-button>
    </template>
  </a-modal>
</template>
```

### 6. ä¸‹æ‹‰é€‰æ‹©è§„èŒƒ

```vue
<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { Select } from 'ant-design-vue';

interface Option {
  label: string;
  value: string | number;
}

const selectedValue = ref<string | number>('');
const options = ref<Option[]>([]);
const loading = ref(false);

const fetchOptions = async () => {
  loading.value = true;
  try {
    const response = await getOptionList();
    options.value = response.data;
  } finally {
    loading.value = false;
  }
};

onMounted(() => {
  fetchOptions();
});
</script>

<template>
  <a-select
    v-model:value="selectedValue"
    placeholder="è¯·é€‰æ‹©"
    allow-clear
    show-search
    :loading="loading"
    :filter-option="(input, option) => {
      return (option?.label ?? '').toLowerCase().includes(input.toLowerCase());
    }"
    class="w-full"
  >
    <a-select-option
      v-for="item in options"
      :key="item.value"
      :value="item.value"
    >
      {{ item.label }}
    </a-select-option>
  </a-select>
</template>
```

### 7. æ—¥æœŸé€‰æ‹©è§„èŒƒ

```vue
<script setup lang="ts">
import { ref } from 'vue';
import { DatePicker } from 'ant-design-vue';
import type { Dayjs } from 'dayjs';
import dayjs from 'dayjs';

const dateValue = ref<Dayjs | null>(null);
const dateRange = ref<[Dayjs, Dayjs] | null>(null);

// å¿«æ·é€‰é¡¹
const shortcuts = [
  {
    label: 'ä»Šå¤©',
    value: () => dayjs(),
  },
  {
    label: 'æœ€è¿‘ä¸€å‘¨',
    value: () => [dayjs().subtract(7, 'day'), dayjs()],
  },
  {
    label: 'æœ€è¿‘ä¸€ä¸ªæœˆ',
    value: () => [dayjs().subtract(30, 'day'), dayjs()],
  },
];
</script>

<template>
  <!-- å•ä¸ªæ—¥æœŸ -->
  <a-date-picker
    v-model:value="dateValue"
    placeholder="é€‰æ‹©æ—¥æœŸ"
    format="YYYY-MM-DD"
    value-format="YYYY-MM-DD"
    class="w-full"
  />

  <!-- æ—¥æœŸèŒƒå›´ -->
  <a-range-picker
    v-model:value="dateRange"
    :placeholder="['å¼€å§‹æ—¥æœŸ', 'ç»“æŸæ—¥æœŸ']"
    format="YYYY-MM-DD"
    value-format="YYYY-MM-DD"
    class="w-full"
  />
</template>
```

### 8. æ ‘å½¢æ§ä»¶è§„èŒƒ

```vue
<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { Tree } from 'ant-design-vue';
import type { DataNode } from 'ant-design-vue/es/tree';

interface TreeNode extends DataNode {
  id: string;
  title: string;
  children?: TreeNode[];
}

const treeData = ref<TreeNode[]>([]);
const checkedKeys = ref<string[]>([]);

const handleNodeClick = (selectedKeys: string[], info: any) => {
  console.log('èŠ‚ç‚¹ç‚¹å‡»:', selectedKeys, info);
};

const getCheckedNodes = () => {
  // æ ¹æ® checkedKeys ä» treeData ä¸­æŸ¥æ‰¾èŠ‚ç‚¹
  return checkedKeys.value;
};

onMounted(async () => {
  const response = await getTreeData();
  treeData.value = response.data;
});
</script>

<template>
  <a-tree
    v-model:checkedKeys="checkedKeys"
    :tree-data="treeData"
    checkable
    :field-names="{ children: 'children', title: 'title', key: 'id' }"
    @select="handleNodeClick"
  />
</template>
```

---

## çŠ¶æ€ç®¡ç†è§„èŒƒ (Pinia)

```typescript
import { defineStore } from 'pinia';
import { ref, computed } from 'vue';

export const useUserStore = defineStore('user', () => {
  // State
  const userInfo = ref<UserInfo | null>(null);
  const token = ref<string>('');

  // Getters
  const isLoggedIn = computed(() => !!token.value);
  const userName = computed(() => userInfo.value?.username ?? '');

  // Actions
  const setUserInfo = (info: UserInfo) => {
    userInfo.value = info;
  };

  const logout = async () => {
    userInfo.value = null;
    token.value = '';
  };

  return {
    userInfo,
    token,
    isLoggedIn,
    userName,
    setUserInfo,
    logout,
  };
});
```

---

## API è¯·æ±‚è§„èŒƒ

```typescript
import { requestClient } from '@vben/request';

// å®šä¹‰å“åº”ç±»å‹
interface ApiResponse<T> {
  code: number;
  data: T;
  message: string;
}

interface UserListParams {
  page: number;
  pageSize: number;
  keyword?: string;
}

// API å‡½æ•°
export const getUserList = async (params: UserListParams) => {
  return requestClient.get<ApiResponse<UserInfo[]>>('/api/user/list', {
    params,
  });
};

export const createUser = async (data: Partial<UserInfo>) => {
  return requestClient.post<ApiResponse<UserInfo>>('/api/user/create', data);
};
```

### API å‡½æ•°ä¼˜åŒ–å»ºè®®

å¯¹äº `ApiTreeSelect` ç­‰éœ€è¦æ‡’åŠ è½½çš„ç»„ä»¶ï¼Œä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼š

```typescript
// âœ… æ¨èï¼šä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼ˆé¿å…è¡¨å•æ˜¾ç¤º/éšè—æ—¶çš„å¡é¡¿ï¼‰
{
  component: 'ApiTreeSelect',
  componentProps: {
    api: () =>
      import('#/api/system/operation-log').then(
        (m) => m.getOperationModuleList,
      ),
    // ...
  },
}

// âŒ ä¸æ¨èï¼šç›´æ¥å¯¼å…¥ï¼ˆå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ï¼‰
import { getOperationModuleList } from '#/api/system/operation-log';
{
  component: 'ApiTreeSelect',
  componentProps: {
    api: getOperationModuleList,
    // ...
  },
}
```

---

## è·¯ç”±é…ç½®è§„èŒƒ

```typescript
import type { RouteRecordRaw } from 'vue-router';

const routes: RouteRecordRaw[] = [
  {
    path: '/user',
    name: 'User',
    component: () => import('@/views/user/index.vue'),
    meta: {
      title: 'ç”¨æˆ·ç®¡ç†',
      icon: 'lucide:users',
      order: 1,
      // æƒé™æ§åˆ¶
      authority: ['user:view'],
    },
    children: [
      {
        path: 'list',
        name: 'UserList',
        component: () => import('@/views/user/list.vue'),
        meta: {
          title: 'ç”¨æˆ·åˆ—è¡¨',
          icon: 'lucide:list',
        },
      },
    ],
  },
];

export default routes;
```

---

## æ ·å¼è§„èŒƒ

```vue
<template>
  <!-- âœ… ä¼˜å…ˆä½¿ç”¨ TailwindCSS å·¥å…·ç±» -->
  <div class="flex items-center justify-between px-4 py-2 bg-white rounded-lg shadow-md">
    <span class="text-lg font-semibold text-gray-900">{{ title }}</span>
    <button class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">
      æ“ä½œ
    </button>
  </div>
</template>

<style scoped>
/* ä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨ scoped æ ·å¼ */
.custom-component {
  /* è‡ªå®šä¹‰æ ·å¼ */
}
</style>
```

---

## æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### 1. ç»„ä»¶æ‡’åŠ è½½
```typescript
// è·¯ç”±æ‡’åŠ è½½
const UserList = () => import('@/views/user/list.vue');

// ç»„ä»¶æ‡’åŠ è½½
const HeavyComponent = defineAsyncComponent(() =>
  import('@/components/HeavyComponent.vue')
);
```

### 2. å“åº”å¼ä¼˜åŒ–
```typescript
import { shallowRef, shallowReactive } from 'vue';

// å¯¹äºå¤§å‹å¯¹è±¡ï¼Œä½¿ç”¨ shallowRef
const largeData = shallowRef<ComplexData[]>([]);

// å¯¹äºä¸éœ€è¦æ·±åº¦å“åº”çš„å¯¹è±¡
const config = shallowReactive({
  settings: {},
});
```

### 3. è™šæ‹Ÿåˆ—è¡¨
```vue
<template>
  <!-- å¤§æ•°æ®åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ -->
  <VbenVirtualList
    :data="largeDataList"
    :item-height="50"
    :buffer="5"
  >
    <template #default="{ item }">
      <div>{{ item.name }}</div>
    </template>
  </VbenVirtualList>
</template>
```

### 4. æœç´¢è¡¨å•æ€§èƒ½ä¼˜åŒ–

å¯¹äºåŒ…å« `ApiTreeSelect` çš„æœç´¢è¡¨å•ï¼Œä½¿ç”¨åŠ¨æ€å¯¼å…¥é¿å…å¡é¡¿ï¼š

```typescript
// âœ… æ¨èï¼šä½¿ç”¨åŠ¨æ€å¯¼å…¥
export function useSearchSchema(): VbenFormSchema[] {
  return [
    {
      component: 'ApiTreeSelect',
      componentProps: {
        api: () =>
          import('#/api/system/operation-log').then(
            (m) => m.getOperationModuleList,
          ),
        // ...
      },
    },
  ];
}
```

---

## å›½é™…åŒ–è§„èŒƒ

```typescript
// å®šä¹‰è¯­è¨€åŒ…
// locales/zh-CN/user.json
{
  "user": {
    "title": "ç”¨æˆ·ç®¡ç†",
    "list": "ç”¨æˆ·åˆ—è¡¨",
    "add": "æ·»åŠ ç”¨æˆ·"
  }
}

// ä½¿ç”¨ i18n
import { $t } from '@/locales';

const title = $t('user.title');

// åœ¨æ¨¡æ¿ä¸­
<template>
  <div>{{ $t('user.list') }}</div>
</template>
```

---

## æƒé™æ§åˆ¶è§„èŒƒ

Vue Vben Admin çš„æƒé™ç³»ç»Ÿé‡‡ç”¨**å¤šå±‚çº§æƒé™æ§åˆ¶**è®¾è®¡ï¼Œæ”¯æŒè·¯ç”±æƒé™ã€æŒ‰é’®æƒé™ã€è§’è‰²æƒé™å’Œæƒé™ç æƒé™ã€‚

### æƒé™ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

- âœ… **è·¯ç”±æƒé™**ï¼šæ§åˆ¶é¡µé¢è®¿é—®
- âœ… **æŒ‰é’®æƒé™**ï¼šæ§åˆ¶æŒ‰é’®/ç»„ä»¶æ˜¾ç¤º
- âœ… **è§’è‰²æƒé™**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
- âœ… **æƒé™ç æƒé™**ï¼šåŸºäºæƒé™ç çš„ç»†ç²’åº¦æ§åˆ¶

### æƒé™ç³»ç»Ÿæµç¨‹å›¾

```
ç”¨æˆ·ç™»å½•
  â†“
è·å– accessToken
  â†“
è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å« rolesï¼‰
  â†“
è·å–æƒé™ç åˆ—è¡¨ï¼ˆaccessCodesï¼‰
  â†“
è·¯ç”±å®ˆå«æ‹¦æˆª
  â†“
ç”Ÿæˆå¯è®¿é—®è·¯ç”±ï¼ˆæ ¹æ® roles æˆ–åç«¯èœå•ï¼‰
  â†“
ç”Ÿæˆå¯è®¿é—®èœå•
  â†“
é¡µé¢æ¸²æŸ“
  â†“
ç»„ä»¶/æŒ‰é’®æƒé™æ£€æŸ¥ï¼ˆv-access æŒ‡ä»¤ï¼‰
```

### 1. è·¯ç”±æƒé™é…ç½®

åœ¨è·¯ç”±é…ç½®ä¸­ï¼Œé€šè¿‡ `meta.authority` å­—æ®µæ§åˆ¶æƒé™ï¼š

```typescript
const routes: RouteRecordRaw[] = [
  {
    path: '/system/role',
    name: 'SystemRole',
    meta: {
      title: 'è§’è‰²ç®¡ç†',
      // éœ€è¦æ‹¥æœ‰ 'admin' æˆ– 'system:role:view' è§’è‰²æ‰èƒ½è®¿é—®
      authority: ['admin', 'system:role:view'],
    },
    component: () => import('#/views/system/role/list.vue'),
  },
];
```

### 2. æŒ‰é’®æƒé™æ§åˆ¶

#### ä½¿ç”¨æƒé™æŒ‡ä»¤ `v-access`

```vue
<script setup lang="ts">
// æƒé™æŒ‡ä»¤ä¼šè‡ªåŠ¨æ³¨å†Œï¼Œæ— éœ€æ‰‹åŠ¨å¯¼å…¥
</script>

<template>
  <!-- åŸºäºè§’è‰²æ§åˆ¶ -->
  <button v-access:role="'admin'">ç®¡ç†å‘˜æŒ‰é’®</button>
  <button v-access:role="['admin', 'editor']">ç¼–è¾‘æŒ‰é’®</button>

  <!-- åŸºäºæƒé™ç æ§åˆ¶ -->
  <button v-access:code="'user:add'">æ·»åŠ ç”¨æˆ·</button>
  <button v-access:code="['user:add', 'user:edit']">æ“ä½œæŒ‰é’®</button>
</template>
```

#### ä½¿ç”¨ AccessControl ç»„ä»¶

```vue
<script setup lang="ts">
import { AccessControl } from '@vben/access';
import { Button as AButton } from 'ant-design-vue';

function handleAdd() {
  // æ–°å¢é€»è¾‘
}

function handleDelete() {
  // åˆ é™¤é€»è¾‘
}

function handleEdit() {
  // ç¼–è¾‘é€»è¾‘
}
</script>

<template>
  <div>
    <!-- ä½¿ç”¨æŒ‡ä»¤ -->
    <a-button
      v-access:code="'system:role:add'"
      type="primary"
      @click="handleAdd"
    >
      æ–°å¢è§’è‰²
    </a-button>

    <a-button
      v-access:role="'admin'"
      danger
      @click="handleDelete"
    >
      åˆ é™¤
    </a-button>

    <!-- ä½¿ç”¨ç»„ä»¶ -->
    <AccessControl :codes="['system:role:edit']" type="code">
      <a-button @click="handleEdit">ç¼–è¾‘</a-button>
    </AccessControl>
  </div>
</template>
```

### 3. ç¼–ç¨‹å¼æƒé™åˆ¤æ–­

```vue
<script setup lang="ts">
import { message } from 'ant-design-vue';
import { useAccess } from '@vben/access';

const { hasAccessByCodes, hasAccessByRoles } = useAccess();

// åˆ¤æ–­æ˜¯å¦æœ‰æƒé™
const canAdd = hasAccessByCodes(['system:role:add']);
const isAdmin = hasAccessByRoles(['admin']);

function handleAction() {
  if (!canAdd) {
    message.warning('æ‚¨æ²¡æœ‰æ·»åŠ æƒé™');
    return;
  }
  // æ‰§è¡Œæ“ä½œ
}
</script>
```

### 4. æƒé™ç³»ç»Ÿæ ¸å¿ƒæµç¨‹

```
ç”¨æˆ·ç™»å½•
  â†“
è·å– accessToken
  â†“
è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å« rolesï¼‰
  â†“
è·å–æƒé™ç åˆ—è¡¨ï¼ˆaccessCodesï¼‰
  â†“
è·¯ç”±å®ˆå«æ‹¦æˆª
  â†“
ç”Ÿæˆå¯è®¿é—®è·¯ç”±ï¼ˆæ ¹æ® roles æˆ–åç«¯èœå•ï¼‰
  â†“
ç”Ÿæˆå¯è®¿é—®èœå•
  â†“
é¡µé¢æ¸²æŸ“
  â†“
ç»„ä»¶/æŒ‰é’®æƒé™æ£€æŸ¥ï¼ˆv-access æŒ‡ä»¤ï¼‰
```

### 5. æƒé™ Store ä½¿ç”¨

#### `useAccessStore` - æƒé™çŠ¶æ€ç®¡ç†
- `accessToken`: ç™»å½•ä»¤ç‰Œ
- `accessCodes`: æƒé™ç åˆ—è¡¨
- `accessMenus`: å¯è®¿é—®èœå•
- `accessRoutes`: å¯è®¿é—®è·¯ç”±
- `isAccessChecked`: æ˜¯å¦å·²æ£€æŸ¥æƒé™

#### `useUserStore` - ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- `userInfo`: ç”¨æˆ·ä¿¡æ¯
- `userRoles`: ç”¨æˆ·è§’è‰²åˆ—è¡¨

#### `useAccess()` - æƒé™åˆ¤æ–­å·¥å…·
```typescript
import { useAccess } from '@vben/access';

const {
  accessMode,          // æƒé™æ¨¡å¼
  hasAccessByCodes,   // åŸºäºæƒé™ç åˆ¤æ–­
  hasAccessByRoles,    // åŸºäºè§’è‰²åˆ¤æ–­
  toggleAccessMode,    // åˆ‡æ¢æƒé™æ¨¡å¼
} = useAccess();
```

### 6. æƒé™æ¨¡å¼é…ç½®

#### å‰ç«¯æ¨¡å¼ï¼ˆ`accessMode: 'frontend'`ï¼‰
- è·¯ç”±é…ç½®åœ¨å‰ç«¯å®šä¹‰
- æ ¹æ®ç”¨æˆ·è§’è‰²è¿‡æ»¤è·¯ç”±
- èœå•æ ¹æ®è·¯ç”±è‡ªåŠ¨ç”Ÿæˆ

#### åç«¯æ¨¡å¼ï¼ˆ`accessMode: 'backend'`ï¼‰
- è·¯ç”±/èœå•ä»åç«¯è·å–
- åç«¯è¿”å›çš„èœå•å³ä¸ºå¯è®¿é—®çš„è·¯ç”±
- æ›´çµæ´»ï¼Œæƒé™å®Œå…¨ç”±åç«¯æ§åˆ¶

è¯¦ç»†æƒé™ç³»ç»Ÿè®¾è®¡è¯·å‚è€ƒï¼š`.cursor/rules/access-system.mdc`

---

## é¡¹ç›®ç»“æ„è§„èŒƒ

### web-antd é¡¹ç›®ç»“æ„

```
apps/web-antd/
â”œâ”€â”€ src/                       # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ adapter/              # é€‚é…å™¨ç›®å½•
â”‚   â”‚   â”œâ”€â”€ component.ts     # ç»„ä»¶é€‚é…å™¨ï¼ˆAnt Design Vue â†’ Vbenï¼‰
â”‚   â”‚   â””â”€â”€ form.ts          # è¡¨å•é€‚é…å™¨é…ç½®
â”‚   â”œâ”€â”€ api/                  # API æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ views/                # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ store/                # Pinia Store
â”‚   â”œâ”€â”€ locales/              # å›½é™…åŒ–
â”‚   â”œâ”€â”€ layouts/              # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ bootstrap.ts          # åº”ç”¨å¯åŠ¨
â”‚   â”œâ”€â”€ app.vue               # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts               # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.mts           # Vite é…ç½®
â””â”€â”€ tsconfig.json             # TypeScript é…ç½®
```

### Monorepo æ•´ä½“ç»“æ„

```
vue-vben-admin/
â”œâ”€â”€ apps/                      # åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ web-ele/              # Element Plus ç‰ˆæœ¬
â”‚   â”œâ”€â”€ web-antd/             # **Ant Design Vue ç‰ˆæœ¬ï¼ˆå½“å‰é¡¹ç›®ï¼‰**
â”‚   â”œâ”€â”€ web-naive/            # Naive UI ç‰ˆæœ¬
â”‚   â””â”€â”€ backend-mock/         # Mock API æœåŠ¡
â”œâ”€â”€ packages/                  # å…±äº«åŒ…
â”‚   â”œâ”€â”€ @core/                # æ ¸å¿ƒ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ base/             # åŸºç¡€åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ ui-kit/           # UI ç»„ä»¶åº“
â”‚   â”‚   â””â”€â”€ composables/      # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ effects/              # ä¸šåŠ¡æ•ˆæœåŒ…
â”‚   â”‚   â”œâ”€â”€ access/           # æƒé™æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ request/          # è¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ common-ui/         # é€šç”¨ UI
â”‚   â”œâ”€â”€ stores/               # Pinia stores
â”‚   â”œâ”€â”€ locales/              # å›½é™…åŒ–
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/                # ç±»å‹å®šä¹‰
â””â”€â”€ internal/                  # å†…éƒ¨å·¥å…·
    â”œâ”€â”€ vite-config/          # Vite é…ç½®
    â”œâ”€â”€ lint-configs/         # Lint é…ç½®
    â””â”€â”€ tsconfig/             # TS é…ç½®
```

### æ–‡ä»¶ç»„ç»‡è§„èŒƒ

```typescript
// æ¯ä¸ªæ¨¡å—çš„ index.ts åº”æ˜ç¡®å¯¼å‡º
export { useUserStore } from './user';
export { useAppStore } from './app';
export type { UserInfo, UserState } from './types';
```

---

## Git æäº¤è§„èŒƒ

æäº¤æ ¼å¼: `<type>: <subject>`

### Type ç±»å‹
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ Bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `build`: æ„å»ºç³»ç»Ÿæˆ–ä¾èµ–æ›´æ–°
- `ci`: CI/CD é…ç½®ä¿®æ”¹
- `chore`: å…¶ä»–æ‚é¡¹ä¿®æ”¹

### æäº¤ç¤ºä¾‹
```bash
feat: æ·»åŠ ç”¨æˆ·æ‰¹é‡å¯¼å…¥åŠŸèƒ½
fix: ä¿®å¤ç™»å½•çŠ¶æ€ä¸¢å¤±é—®é¢˜
refactor: é‡æ„ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢é€»è¾‘
perf: ä¼˜åŒ–è¡¨æ ¼æ¸²æŸ“æ€§èƒ½
docs: æ›´æ–° API æ–‡æ¡£
```

### æäº¤åŸåˆ™
- ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹
- Subject ä¸è¶…è¿‡ 50 å­—
- ä½¿ç”¨ä¸­æ–‡æè¿°
- æè¿°æ¸…æ™°ã€ç®€æ´

---

## Bug ä¿®å¤è§„èŒƒ

1. **å®šä½æ ¹å› **: æ·±å…¥åˆ†æé—®é¢˜æœ¬è´¨ï¼Œä¸åšè¡¨é¢ä¿®å¤
2. **æœ€å°æ”¹åŠ¨**: ä»…ä¿®æ”¹æœ‰é—®é¢˜çš„ä»£ç ï¼Œé¿å…ç‰µè¿æ— å…³é€»è¾‘
3. **æ·»åŠ æ³¨é‡Š**: è¯´æ˜ä¿®å¤åŸå› å’Œé—®é¢˜æ ¹æº
4. **ç±»å‹å®‰å…¨**: ç¡®ä¿ä¿®å¤åçš„ä»£ç ç±»å‹æ­£ç¡®

```typescript
// âŒ é”™è¯¯ï¼šç›´æ¥å±è”½é”™è¯¯
// @ts-ignore
const result = dangerousFunction();

// âœ… æ­£ç¡®ï¼šä¿®å¤ç±»å‹é—®é¢˜
const result = dangerousFunction() as ExpectedType;
// æˆ–è€…ä¿®æ”¹å‡½æ•°ç­¾åä½¿å…¶è¿”å›æ­£ç¡®ç±»å‹
```

---

## æœ€ä½³å®è·µ

### 1. ç»„ä»¶è®¾è®¡
- å•ä¸€èŒè´£ï¼šæ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- å¯å¤ç”¨æ€§ï¼šæå–é€šç”¨é€»è¾‘åˆ° composables
- Props éªŒè¯ï¼šä½¿ç”¨ TypeScript æ¥å£å®šä¹‰ props
- äº‹ä»¶å‘½åï¼šä½¿ç”¨æ˜ç¡®çš„åŠ¨è¯å‘½åï¼ˆå¦‚ `onUpdate`, `onSubmit`ï¼‰

### 2. çŠ¶æ€ç®¡ç†
- å±€éƒ¨çŠ¶æ€ï¼šä½¿ç”¨ `ref`/`reactive`
- å…¨å±€çŠ¶æ€ï¼šä½¿ç”¨ Pinia store
- æŒä¹…åŒ–ï¼šä½¿ç”¨ `@vben/preferences` å­˜å‚¨ç”¨æˆ·åå¥½

### 3. é”™è¯¯å¤„ç†
```typescript
import { message } from '@vben/common-ui';

try {
  await apiCall();
  message.success('æ“ä½œæˆåŠŸ');
} catch (error) {
  console.error('æ“ä½œå¤±è´¥:', error);
  message.error(error.message || 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');
}
```

### 4. ä»£ç å¤ç”¨
```typescript
// composables/useTable.ts
export const useTable = <T>(fetchFn: (params: any) => Promise<T[]>) => {
  const loading = ref(false);
  const data = ref<T[]>([]);
  const pagination = reactive({
    page: 1,
    pageSize: 10,
    total: 0,
  });

  const fetchData = async () => {
    loading.value = true;
    try {
      const result = await fetchFn({
        page: pagination.page,
        pageSize: pagination.pageSize,
      });
      data.value = result;
    } finally {
      loading.value = false;
    }
  };

  return {
    loading,
    data,
    pagination,
    fetchData,
  };
};
```

---

## ç¦æ­¢äº‹é¡¹

- âŒ ç¦æ­¢ä½¿ç”¨ `any` ç±»å‹ï¼ˆé™¤éæœ‰å……åˆ†ç†ç”±ï¼‰
- âŒ ç¦æ­¢ä½¿ç”¨ Options API
- âŒ ç¦æ­¢ç›´æ¥ä¿®æ”¹ props
- âŒ ç¦æ­¢åœ¨ computed ä¸­äº§ç”Ÿå‰¯ä½œç”¨
- âŒ ç¦æ­¢ä½¿ç”¨ `var` å£°æ˜å˜é‡
- âŒ ç¦æ­¢æäº¤ console.logï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âŒ ç¦æ­¢ä½¿ç”¨å†…è”æ ·å¼ï¼ˆé™¤éå¿…è¦ï¼‰
- âŒ ç¦æ­¢ç»•è¿‡ ESLint è§„åˆ™ï¼ˆé™¤éæœ‰å……åˆ†ç†ç”±å¹¶æ·»åŠ æ³¨é‡Šï¼‰

---

## å¼€å‘æµç¨‹

1. **éœ€æ±‚åˆ†æ**: æ˜ç¡®éœ€æ±‚å’Œå®ç°æ–¹æ¡ˆ
2. **æŠ€æœ¯è®¾è®¡**: è€ƒè™‘ç±»å‹å®šä¹‰ã€ç»„ä»¶ç»“æ„ã€çŠ¶æ€ç®¡ç†
3. **ç¼–ç å®ç°**: éµå¾ªè§„èŒƒï¼Œç¼–å†™å®Œæ•´å¯è¿è¡Œçš„ä»£ç 
4. **è‡ªæµ‹éªŒè¯**: æµ‹è¯•åŠŸèƒ½ã€æ£€æŸ¥ç±»å‹ã€è¿è¡Œ lint
5. **ä»£ç å®¡æŸ¥**: ç¡®ä¿ä»£ç è´¨é‡å’Œè§„èŒƒæ€§
6. **æäº¤ä»£ç **: ä½¿ç”¨è§„èŒƒçš„ commit message

---

## web-antd é¡¹ç›®å¸¸ç”¨å‘½ä»¤

åœ¨ `apps/web-antd` ç›®å½•ä¸‹æ‰§è¡Œï¼š

```bash
# å®‰è£…ä¾èµ–ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼‰
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# æ„å»ºå¹¶åˆ†ææ‰“åŒ…ä½“ç§¯
pnpm build:analyze

# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm preview

# TypeScript ç±»å‹æ£€æŸ¥
pnpm typecheck
```

**æ³¨æ„**ï¼šæ‰€æœ‰å‘½ä»¤éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼Œpnpm workspace ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ‰§è¡Œå¯¹åº”åº”ç”¨ã€‚

---

## é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜
1. **ç±»å‹é”™è¯¯**: æ£€æŸ¥å¯¼å…¥è·¯å¾„å’Œç±»å‹å®šä¹‰ï¼Œç¡®è®¤ `#/*` è·¯å¾„åˆ«åé…ç½®
2. **è·¯å¾„åˆ«å**: ç¡®è®¤ `apps/web-antd/tsconfig.json` ä¸­çš„ `paths` é…ç½®
3. **ä¾èµ–é—®é¢˜**: ä½¿ç”¨ `pnpm install --force` é‡æ–°å®‰è£…
4. **æ„å»ºå¤±è´¥**: æ£€æŸ¥ TypeScript é”™è¯¯å’Œ ESLint è­¦å‘Š
5. **ç»„ä»¶å¯¼å…¥é”™è¯¯**: ç¡®è®¤ä» `ant-design-vue` æ­£ç¡®å¯¼å…¥ç»„ä»¶
6. **è¡¨å•ç»‘å®šé—®é¢˜**: ç¡®è®¤ä½¿ç”¨ `v-model:value`ï¼ˆAnt Design Vue é»˜è®¤ï¼‰

### è°ƒè¯•æŠ€å·§
```typescript
// ä½¿ç”¨ Vue Devtools
// ä½¿ç”¨ vite-plugin-inspect æ£€æŸ¥æ„å»º
// ä½¿ç”¨ Performance API åˆ†ææ€§èƒ½
// æ£€æŸ¥ adapter/component.ts ä¸­çš„ç»„ä»¶æ³¨å†Œ
// æ£€æŸ¥ adapter/form.ts ä¸­çš„è¡¨å•é…ç½®
```

---

## å®˜æ–¹æ–‡æ¡£å‚è€ƒ

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°é—®é¢˜æˆ–éœ€è¦äº†è§£è¯¦ç»†åŠŸèƒ½ï¼Œè¯·ä¼˜å…ˆå‚è€ƒ `docs/src/guide/` ç›®å½•ä¸‹çš„å®˜æ–¹æ–‡æ¡£ï¼š

### åŸºç¡€æŒ‡å— (essentials/)
- `concept.md` - æ ¸å¿ƒæ¦‚å¿µ
- `development.md` - å¼€å‘æŒ‡å—
- `route.md` - è·¯ç”±é…ç½®
- `settings.md` - é…ç½®è¯´æ˜
- `styles.md` - æ ·å¼æ–¹æ¡ˆ
- `icons.md` - å›¾æ ‡ä½¿ç”¨
- `build.md` - æ„å»ºéƒ¨ç½²
- `server.md` - æœåŠ¡ç«¯äº¤äº’
- `external-module.md` - å¤–éƒ¨æ¨¡å—

### æ·±å…¥ç†è§£ (in-depth/)
- `access.md` - **æƒé™æ§åˆ¶**ï¼ˆæŒ‰é’®æƒé™ã€è·¯ç”±æƒé™ï¼‰
- `theme.md` - ä¸»é¢˜é…ç½®
- `layout.md` - å¸ƒå±€ç³»ç»Ÿ
- `locale.md` - å›½é™…åŒ–
- `login.md` - ç™»å½•è®¤è¯
- `loading.md` - åŠ è½½çŠ¶æ€
- `features.md` - åŠŸèƒ½ç‰¹æ€§
- `ui-framework.md` - UI æ¡†æ¶é€‚é…
- `check-updates.md` - ç‰ˆæœ¬æ›´æ–°

### é¡¹ç›®é…ç½® (project/)
- `dir.md` - ç›®å½•ç»“æ„
- `standard.md` - å¼€å‘è§„èŒƒ
- `cli.md` - å‘½ä»¤è¡Œå·¥å…·
- `vite.md` - Vite é…ç½®
- `tailwindcss.md` - TailwindCSS é…ç½®
- `changeset.md` - å˜æ›´æ—¥å¿—
- `test.md` - æµ‹è¯•æŒ‡å—

### å…¶ä»– (other/)
- `faq.md` - å¸¸è§é—®é¢˜
- `project-update.md` - é¡¹ç›®å‡çº§
- `remove-code.md` - ä»£ç æ¸…ç†

### ä½¿ç”¨å»ºè®®

1. **é‡åˆ°æƒé™æ§åˆ¶é—®é¢˜** â†’ æŸ¥çœ‹ `in-depth/access.md`
2. **éœ€è¦é…ç½®è·¯ç”±** â†’ æŸ¥çœ‹ `essentials/route.md`
3. **æ ·å¼ç›¸å…³é—®é¢˜** â†’ æŸ¥çœ‹ `essentials/styles.md` å’Œ `project/tailwindcss.md`
4. **æ„å»ºéƒ¨ç½²é—®é¢˜** â†’ æŸ¥çœ‹ `essentials/build.md` å’Œ `project/vite.md`
5. **å›½é™…åŒ–é…ç½®** â†’ æŸ¥çœ‹ `in-depth/locale.md`
6. **ä¸»é¢˜å®šåˆ¶** â†’ æŸ¥çœ‹ `in-depth/theme.md`
7. **å¸¸è§é—®é¢˜** â†’ æŸ¥çœ‹ `other/faq.md`

---

## æ€»ç»“

- å§‹ç»ˆä¿æŒç±»å‹å®‰å…¨
- éµå¾ª Vue 3 æœ€ä½³å®è·µ
- ä¿æŒä»£ç ç®€æ´ã€å¯ç»´æŠ¤
- æ³¨é‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
- åŠæ—¶æ›´æ–°æŠ€æœ¯æ ˆ
- **é‡åˆ°é—®é¢˜ä¼˜å…ˆæŸ¥é˜…å®˜æ–¹æ–‡æ¡£**
